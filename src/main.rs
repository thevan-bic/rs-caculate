use ethers::prelude::*;
use ethers::utils::{keccak256};
use std::error::Error;
use hex::FromHex;
use rayon::prelude::*;
use std::sync::atomic::{AtomicBool, AtomicUsize, Ordering};
use std::sync::Arc;
use std::time::Instant;
use num_cpus;

fn compute_create2_address(sender_address: Address, salt: &[u8; 32], deployment_data: &[u8]) -> Address {
    // Concatenate as per CREATE2 specification
    let mut data = Vec::with_capacity(1 + 20 + 32 + 32);
    data.push(0xff); // Fixed prefix for CREATE2
    data.extend_from_slice(sender_address.as_bytes());
    data.extend_from_slice(salt);
    data.extend_from_slice(deployment_data);
    let result_hash = keccak256(&data);
    Address::from_slice(&result_hash[12..])
}


fn main() -> Result<(), Box<dyn Error>> {
    let deployment_data = "6101806040523480156200001257600080fd5b5060405162004d0e38038062004d0e833981016040819052620000359162000adb565b6040518060400160405280600981526020016842616d626f6f31333960b81b81525080604051806040016040528060018152602001603160f81b8152506040518060400160405280600981526020016842616d626f6f31333960b81b815250604051806040016040528060048152602001634231333960e01b81525086620000cc620000c6620001f960201b60201c565b620001fd565b6001600160a01b03166080526004620000e6838262000bc0565b506005620000f5828262000bc0565b5062000107915083905060066200024d565b61014052620001188160076200024d565b61016052815160208084019190912061010052815190820120610120524660c052620001a86101005161012051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60a05250503060e0819052600d805460ff19169055620001cd91508260001962000286565b620001d881620001fd565b620001f1816c0b3548624a5b3cd344c0000000620003b2565b505062000d44565b3390565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60006020835110156200026d5762000265836200045a565b905062000280565b816200027a848262000bc0565b5060ff90505b92915050565b6001600160a01b038316620002ee5760405162461bcd60e51b8152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f206164646044820152637265737360e01b60648201526084015b60405180910390fd5b6001600160a01b038216620003515760405162461bcd60e51b815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f206164647265604482015261737360f01b6064820152608401620002e5565b6001600160a01b0383811660008181526002602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925910160405180910390a3505050565b620003be82826200049d565b6001600160e01b03620003d26200057e8216565b11156200043b5760405162461bcd60e51b815260206004820152603060248201527f4552433230566f7465733a20746f74616c20737570706c79207269736b73206f60448201526f766572666c6f77696e6720766f74657360801b6064820152608401620002e5565b62000454600c62001a9d6200058460201b178362000599565b50505050565b600080829050601f8151111562000488578260405163305a27a960e01b8152600401620002e5919062000c8c565b8051620004958262000cdd565b179392505050565b6001600160a01b038216620004f55760405162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f2061646472657373006044820152606401620002e5565b620005036000838362000721565b806003600082825462000517919062000d18565b90915550506001600160a01b0382166000818152600160209081526040808320805486019055518481527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160405180910390a36200057a60008383620007f4565b5050565b60035490565b600062000592828462000d18565b9392505050565b82546000908190818115620005e85760008781526020902082016000190160408051808201909152905463ffffffff8116825264010000000090046001600160e01b03166020820152620005fd565b60408051808201909152600080825260208201525b905080602001516001600160e01b031693506200061b84868860201c565b92506000821180156200064857506200063362000828565b65ffffffffffff16816000015163ffffffff16145b15620006915762000659836200083a565b60008881526020902083016000190180546001600160e01b03929092166401000000000263ffffffff90921691909117905562000717565b866040518060400160405280620006bf620006b16200082860201b60201c565b65ffffffffffff16620008a9565b63ffffffff168152602001620006d5866200083a565b6001600160e01b0390811690915282546001810184556000938452602093849020835194909301519091166401000000000263ffffffff909316929092179101555b5050935093915050565b600d5460ff1615620007845760405162461bcd60e51b815260206004820152602560248201527f42616d626f3133393a20746f6b656e207472616e73666572207768696c652070604482015264185d5cd95960da1b6064820152608401620002e5565b6001600160a01b03831660009081526010602052604090205460ff1615620007ef5760405162461bcd60e51b815260206004820152601b60248201527f42616d626f3133393a2073656e64657220697320626c6f636b656400000000006044820152606401620002e5565b505050565b6001600160a01b038381166000908152600a6020526040808220548584168352912054620007ef9291821691168362000910565b6000620008354362000a4b565b905090565b60006001600160e01b03821115620008a55760405162461bcd60e51b815260206004820152602760248201527f53616665436173743a2076616c756520646f65736e27742066697420696e20326044820152663234206269747360c81b6064820152608401620002e5565b5090565b600063ffffffff821115620008a55760405162461bcd60e51b815260206004820152602660248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203360448201526532206269747360d01b6064820152608401620002e5565b816001600160a01b0316836001600160a01b031614158015620009335750600081115b15620007ef576001600160a01b03831615620009c0576001600160a01b0383166000908152600b60209081526040822082916200097d919062000ab4901b62001aa9178562000599565b91509150846001600160a01b031660008051602062004cee8339815191528383604051620009b5929190918252602082015260400190565b60405180910390a250505b6001600160a01b03821615620007ef576001600160a01b0382166000908152600b602090815260408220829162000a04919062000584901b62001a9d178562000599565b91509150836001600160a01b031660008051602062004cee833981519152838360405162000a3c929190918252602082015260400190565b60405180910390a25050505050565b600065ffffffffffff821115620008a55760405162461bcd60e51b815260206004820152602660248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203460448201526538206269747360d01b6064820152608401620002e5565b600062000592828462000d2e565b6001600160a01b038116811462000ad857600080fd5b50565b6000806040838503121562000aef57600080fd5b825162000afc8162000ac2565b602084015190925062000b0f8162000ac2565b809150509250929050565b634e487b7160e01b600052604160045260246000fd5b600181811c9082168062000b4557607f821691505b60208210810362000b6657634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620007ef576000816000526020600020601f850160051c8101602086101562000b975750805b601f850160051c820191505b8181101562000bb85782815560010162000ba3565b505050505050565b81516001600160401b0381111562000bdc5762000bdc62000b1a565b62000bf48162000bed845462000b30565b8462000b6c565b602080601f83116001811462000c2c576000841562000c135750858301515b600019600386901b1c1916600185901b17855562000bb8565b600085815260208120601f198616915b8281101562000c5d5788860151825594840194600190910190840162000c3c565b508582101562000c7c5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352835180602085015260005b8181101562000cbc5785810183015185820160400152820162000c9e565b506000604082860101526040601f19601f8301168501019250505092915050565b8051602080830151919081101562000b665760001960209190910360031b1b16919050565b634e487b7160e01b600052601160045260246000fd5b8082018082111562000280576200028062000d02565b8181038181111562000280576200028062000d02565b60805160a05160c05160e05161010051610120516101405161016051613f1362000ddb60003960006110e7015260006110bc01526000612128015260006121000152600061205b01526000612085015260006120af0152600081816107f001528181610a4001528181610c34015281816113d9015281816114a00152818161153001528181611755015261268b0152613f136000f3fe6080604052600436106103135760003560e01c80637ecebe001161019a578063bb9fe6bf116100e1578063dd62ed3e1161008a578063f465c77e11610064578063f465c77e14610976578063fab52689146109a4578063fbac3951146109d457600080fd5b8063dd62ed3e146108a4578063f1127ed8146108f7578063f2fde38b1461095657600080fd5b8063c3cda520116100bb578063c3cda5201461085c578063d0e30db01461087c578063d505accf1461088457600080fd5b8063bb9fe6bf14610812578063c23a5cea14610827578063c399ec881461084757600080fd5b806395d89b4111610143578063a9059cbb1161011d578063a9059cbb1461079e578063a9a23409146107be578063b0d691fe146107de57600080fd5b806395d89b41146107495780639ab24eb01461075e578063a457c2d71461077e57600080fd5b80638da5cb5b116101745780638da5cb5b146106d25780638e539e8c146106fd57806391ddadf41461071d57600080fd5b80637ecebe00146106755780638456cb591461069557806384b0196e146106aa57600080fd5b80633c7c9b901161025e5780636fcfff4511610207578063796d4371116101e1578063796d4371146106125780637adbf973146106285780637dc0d1d01461064857600080fd5b80636fcfff451461058557806370a08231146105ba578063715018a6146105fd57600080fd5b8063587cde1e11610238578063587cde1e146104e25780635c19a95c1461054d5780635c975abb1461056d57600080fd5b80633c7c9b90146104985780633f4ba83a146104b85780634bf5d7e9146104cd57600080fd5b806323b872dd116102c05780633644e5151161029a5780633644e5151461044357806339509351146104585780633a46b1a81461047857600080fd5b806323b872dd146103e757806329ce1ec514610407578063313ce5671461042757600080fd5b806318160ddd116102f157806318160ddd146103885780631a14f449146103a7578063205c2878146103c757600080fd5b80630396cb601461031857806306fdde031461032d578063095ea7b314610358575b600080fd5b61032b610326366004613800565b610a04565b005b34801561033957600080fd5b50610342610ab6565b60405161034f919061387f565b60405180910390f35b34801561036457600080fd5b506103786103733660046138b4565b610b48565b604051901515815260200161034f565b34801561039457600080fd5b506003545b60405190815260200161034f565b3480156103b357600080fd5b5061032b6103c23660046138e0565b610b62565b3480156103d357600080fd5b5061032b6103e23660046138b4565b610be0565b3480156103f357600080fd5b506103786104023660046138fd565b610c78565b34801561041357600080fd5b5061032b6104223660046138e0565b610c9c565b34801561043357600080fd5b506040516012815260200161034f565b34801561044f57600080fd5b50610399610d2b565b34801561046457600080fd5b506103786104733660046138b4565b610d3a565b34801561048457600080fd5b506103996104933660046138b4565b610d86565b3480156104a457600080fd5b5061032b6104b33660046138e0565b610e3b565b3480156104c457600080fd5b5061032b610ebc565b3480156104d957600080fd5b50610342610ece565b3480156104ee57600080fd5b506105286104fd3660046138e0565b73ffffffffffffffffffffffffffffffffffffffff9081166000908152600a60205260409020541690565b60405173ffffffffffffffffffffffffffffffffffffffff909116815260200161034f565b34801561055957600080fd5b5061032b6105683660046138e0565b610f80565b34801561057957600080fd5b50600d5460ff16610378565b34801561059157600080fd5b506105a56105a03660046138e0565b610f8d565b60405163ffffffff909116815260200161034f565b3480156105c657600080fd5b506103996105d53660046138e0565b73ffffffffffffffffffffffffffffffffffffffff1660009081526001602052604090205490565b34801561060957600080fd5b5061032b610fbc565b34801561061e57600080fd5b5061039961ea6081565b34801561063457600080fd5b5061032b6106433660046138e0565b610fce565b34801561065457600080fd5b50600f546105289073ffffffffffffffffffffffffffffffffffffffff1681565b34801561068157600080fd5b506103996106903660046138e0565b611073565b3480156106a157600080fd5b5061032b61109e565b3480156106b657600080fd5b506106bf6110ae565b60405161034f979695949392919061393e565b3480156106de57600080fd5b5060005473ffffffffffffffffffffffffffffffffffffffff16610528565b34801561070957600080fd5b50610399610718366004613a00565b611153565b34801561072957600080fd5b506107326111d8565b60405165ffffffffffff909116815260200161034f565b34801561075557600080fd5b506103426111e3565b34801561076a57600080fd5b506103996107793660046138e0565b6111f2565b34801561078a57600080fd5b506103786107993660046138b4565b6112d6565b3480156107aa57600080fd5b506103786107b93660046138b4565b6113a7565b3480156107ca57600080fd5b5061032b6107d9366004613a19565b6113b5565b3480156107ea57600080fd5b506105287f000000000000000000000000000000000000000000000000000000000000000081565b34801561081e57600080fd5b5061032b6113cf565b34801561083357600080fd5b5061032b6108423660046138e0565b611453565b34801561085357600080fd5b506103996114ff565b34801561086857600080fd5b5061032b610877366004613ab9565b6115b0565b61032b611727565b34801561089057600080fd5b5061032b61089f366004613b13565b6117af565b3480156108b057600080fd5b506103996108bf366004613b81565b73ffffffffffffffffffffffffffffffffffffffff918216600090815260026020908152604080832093909416825291909152205490565b34801561090357600080fd5b50610917610912366004613bba565b61196e565b60408051825163ffffffff1681526020928301517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff16928101929092520161034f565b34801561096257600080fd5b5061032b6109713660046138e0565b611a14565b34801561098257600080fd5b50610996610991366004613bef565b611a7a565b60405161034f929190613c43565b3480156109b057600080fd5b506103786109bf3660046138e0565b600e6020526000908152604090205460ff1681565b3480156109e057600080fd5b506103786109ef3660046138e0565b60106020526000908152604090205460ff1681565b610a0c611ab5565b6040517f0396cb6000000000000000000000000000000000000000000000000000000000815263ffffffff821660048201527f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1690630396cb609034906024016000604051808303818588803b158015610a9a57600080fd5b505af1158015610aae573d6000803e3d6000fd5b505050505050565b606060048054610ac590613c65565b80601f0160208091040260200160405190810160405280929190818152602001828054610af190613c65565b8015610b3e5780601f10610b1357610100808354040283529160200191610b3e565b820191906000526020600020905b815481529060010190602001808311610b2157829003601f168201915b5050505050905090565b600033610b56818585611b36565b60019150505b92915050565b610b6a611ab5565b73ffffffffffffffffffffffffffffffffffffffff811660008181526010602052604080822080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00169055513392917f7868bf571e8504afe6ac282a485ab05308f7b274bf7a8affcb52b1e431ca671591a350565b610be8611ab5565b6040517f205c287800000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8381166004830152602482018390527f0000000000000000000000000000000000000000000000000000000000000000169063205c287890604401600060405180830381600087803b158015610a9a57600080fd5b600033610c86858285611ce9565b610c91858585611dba565b506001949350505050565b610ca4611ab5565b73ffffffffffffffffffffffffffffffffffffffff81166000818152600e602090815260409182902080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00166001179055905191825233917f19d8e56f1e137a5d300ff5835cc40cd26072c22fce3f03785530eba3c6edad84910160405180910390a250565b6000610d35612041565b905090565b33600081815260026020908152604080832073ffffffffffffffffffffffffffffffffffffffff87168452909152812054909190610b569082908690610d81908790613ce1565b611b36565b6000610d906111d8565b65ffffffffffff168210610e05576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f4552433230566f7465733a20667574757265206c6f6f6b75700000000000000060448201526064015b60405180910390fd5b73ffffffffffffffffffffffffffffffffffffffff83166000908152600b60205260409020610e349083612179565b9392505050565b610e43611ab5565b73ffffffffffffffffffffffffffffffffffffffff811660008181526010602052604080822080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00166001179055513392917f61b02ea2c9bc9ceb086763011b84671260d9f7070e1b4ab44008b5640f40f20191a350565b610ec4611ab5565b610ecc6122aa565b565b606043610ed96111d8565b65ffffffffffff1614610f48576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f4552433230566f7465733a2062726f6b656e20636c6f636b206d6f64650000006044820152606401610dfc565b5060408051808201909152601d81527f6d6f64653d626c6f636b6e756d6265722666726f6d3d64656661756c74000000602082015290565b610f8a3382612327565b50565b73ffffffffffffffffffffffffffffffffffffffff81166000908152600b6020526040812054610b5c906123c6565b610fc4611ab5565b610ecc6000612460565b610fd6611ab5565b600f546040805173ffffffffffffffffffffffffffffffffffffffff9283168152918316602083015233917f8a2921926cceeec9c87402055ba6edb6a752234970f3b7b8f99183b622b3e014910160405180910390a2600f80547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b73ffffffffffffffffffffffffffffffffffffffff8116600090815260086020526040812054610b5c565b6110a6611ab5565b610ecc6124d5565b6000606080828080836110e27f00000000000000000000000000000000000000000000000000000000000000006006612530565b61110d7f00000000000000000000000000000000000000000000000000000000000000006007612530565b604080516000808252602082019092527f0f000000000000000000000000000000000000000000000000000000000000009b939a50919850469750309650945092509050565b600061115d6111d8565b65ffffffffffff1682106111cd576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f4552433230566f7465733a20667574757265206c6f6f6b7570000000000000006044820152606401610dfc565b610b5c600c83612179565b6000610d35436125db565b606060058054610ac590613c65565b73ffffffffffffffffffffffffffffffffffffffff81166000908152600b602052604081205480156112ae5773ffffffffffffffffffffffffffffffffffffffff83166000908152600b6020526040902080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff830190811061127757611277613cf4565b60009182526020909120015464010000000090047bffffffffffffffffffffffffffffffffffffffffffffffffffffffff166112b1565b60005b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff169392505050565b33600081815260026020908152604080832073ffffffffffffffffffffffffffffffffffffffff871684529091528120549091908381101561139a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760448201527f207a65726f0000000000000000000000000000000000000000000000000000006064820152608401610dfc565b610c918286868403611b36565b600033610b56818585611dba565b6113bd612673565b6113c984848484612712565b50505050565b6113d7611ab5565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663bb9fe6bf6040518163ffffffff1660e01b8152600401600060405180830381600087803b15801561143f57600080fd5b505af11580156113c9573d6000803e3d6000fd5b61145b611ab5565b6040517fc23a5cea00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff82811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063c23a5cea90602401600060405180830381600087803b1580156114e457600080fd5b505af11580156114f8573d6000803e3d6000fd5b5050505050565b6040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526000907f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16906370a0823190602401602060405180830381865afa15801561158c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d359190613d23565b8342111561161a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f4552433230566f7465733a207369676e617475726520657870697265640000006044820152606401610dfc565b604080517fe48329057bfd03d55e49b547132e39cffd9c1820ad7b9d4c5307691425d15adf602082015273ffffffffffffffffffffffffffffffffffffffff88169181019190915260608101869052608081018590526000906116a1906116999060a0016040516020818303038152906040528051906020012061279c565b8585856127e4565b90506116ac8161280c565b8614611714576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f4552433230566f7465733a20696e76616c6964206e6f6e6365000000000000006044820152606401610dfc565b61171e8188612327565b50505050505050565b6040517fb760faf90000000000000000000000000000000000000000000000000000000081523060048201527f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff169063b760faf99034906024016000604051808303818588803b1580156114e457600080fd5b83421115611819576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f45524332305065726d69743a206578706972656420646561646c696e650000006044820152606401610dfc565b60007f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c98888886118488c61280c565b60408051602081019690965273ffffffffffffffffffffffffffffffffffffffff94851690860152929091166060840152608083015260a082015260c0810186905260e00160405160208183030381529060405280519060200120905060006118b08261279c565b905060006118c0828787876127e4565b90508973ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614611957576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601e60248201527f45524332305065726d69743a20696e76616c6964207369676e617475726500006044820152606401610dfc565b6119628a8a8a611b36565b50505050505050505050565b604080518082019091526000808252602082015273ffffffffffffffffffffffffffffffffffffffff83166000908152600b60205260409020805463ffffffff84169081106119bf576119bf613cf4565b60009182526020918290206040805180820190915291015463ffffffff8116825264010000000090047bffffffffffffffffffffffffffffffffffffffffffffffffffffffff16918101919091529392505050565b611a1c611ab5565b611a4630611a3f60005473ffffffffffffffffffffffffffffffffffffffff1690565b6000611b36565b611a4f81612841565b610f8a30827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff611b36565b60606000611a86612673565b611a918585856128f5565b91509150935093915050565b6000610e348284613ce1565b6000610e348284613d3c565b60005473ffffffffffffffffffffffffffffffffffffffff163314610ecc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610dfc565b73ffffffffffffffffffffffffffffffffffffffff8316611bd8576040517f08c379a0000000000000000000000000000000000000000000000000000000008152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460448201527f72657373000000000000000000000000000000000000000000000000000000006064820152608401610dfc565b73ffffffffffffffffffffffffffffffffffffffff8216611c7b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f20616464726560448201527f73730000000000000000000000000000000000000000000000000000000000006064820152608401610dfc565b73ffffffffffffffffffffffffffffffffffffffff83811660008181526002602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925910160405180910390a3505050565b73ffffffffffffffffffffffffffffffffffffffff8381166000908152600260209081526040808320938616835292905220547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81146113c95781811015611dad576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f45524332303a20696e73756666696369656e7420616c6c6f77616e63650000006044820152606401610dfc565b6113c98484848403611b36565b73ffffffffffffffffffffffffffffffffffffffff8316611e5d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f20616460448201527f64726573730000000000000000000000000000000000000000000000000000006064820152608401610dfc565b73ffffffffffffffffffffffffffffffffffffffff8216611f00576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201527f65737300000000000000000000000000000000000000000000000000000000006064820152608401610dfc565b611f0b838383612b18565b73ffffffffffffffffffffffffffffffffffffffff831660009081526001602052604090205481811015611fc1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f45524332303a207472616e7366657220616d6f756e742065786365656473206260448201527f616c616e636500000000000000000000000000000000000000000000000000006064820152608401610dfc565b73ffffffffffffffffffffffffffffffffffffffff80851660008181526001602052604080822086860390559286168082529083902080548601905591517fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9061202e9086815260200190565b60405180910390a36113c9848484612c40565b60003073ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000161480156120a757507f000000000000000000000000000000000000000000000000000000000000000046145b156120d157507f000000000000000000000000000000000000000000000000000000000000000090565b610d35604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b8154600090818160058111156121d357600061219484612c7f565b61219e9085613d3c565b600088815260209020909150869082015463ffffffff1611156121c3578091506121d1565b6121ce816001613ce1565b92505b505b808210156122205760006121e78383612d67565b600088815260209020909150869082015463ffffffff16111561220c5780915061221a565b612217816001613ce1565b92505b506121d3565b801561227f5760008681526020902081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff015464010000000090047bffffffffffffffffffffffffffffffffffffffffffffffffffffffff16612282565b60005b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff169695505050505050565b6122b2612d82565b600d80547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001690557f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa335b60405173ffffffffffffffffffffffffffffffffffffffff909116815260200160405180910390a1565b73ffffffffffffffffffffffffffffffffffffffff8281166000818152600a6020818152604080842080546001845282862054949093528787167fffffffffffffffffffffffff00000000000000000000000000000000000000008416811790915590519190951694919391928592917f3134e8a2e6d97e929a7e54011ea5485d7d196dd5f0ba4d4ef95803e8e3fc257f9190a46113c9828483612dee565b600063ffffffff82111561245c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203360448201527f32206269747300000000000000000000000000000000000000000000000000006064820152608401610dfc565b5090565b6000805473ffffffffffffffffffffffffffffffffffffffff8381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6124dd612f93565b600d80547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660011790557f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a2586122fd3390565b606060ff831461254a5761254383613000565b9050610b5c565b81805461255690613c65565b80601f016020809104026020016040519081016040528092919081815260200182805461258290613c65565b80156125cf5780601f106125a4576101008083540402835291602001916125cf565b820191906000526020600020905b8154815290600101906020018083116125b257829003601f168201915b50505050509050610b5c565b600065ffffffffffff82111561245c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203460448201527f38206269747300000000000000000000000000000000000000000000000000006064820152608401610dfc565b3373ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001614610ecc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f53656e646572206e6f7420456e747279506f696e7400000000000000000000006044820152606401610dfc565b6000612720838501856138e0565b9050600061273861273361ea6085613ce1565b61303f565b9050612745823083611dba565b6040805173ffffffffffffffffffffffffffffffffffffffff84168152602081018390527ff842076a30ec58e71f31f5ded044f2790b403c5a75bdbfddea03130ee65e1a58910160405180910390a1505050505050565b6000610b5c6127a9612041565b836040517f19010000000000000000000000000000000000000000000000000000000000008152600281019290925260228201526042902090565b60008060006127f5878787876130fe565b91509150612802816131ed565b5095945050505050565b73ffffffffffffffffffffffffffffffffffffffff811660009081526008602052604090208054600181018255905b50919050565b612849611ab5565b73ffffffffffffffffffffffffffffffffffffffff81166128ec576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152608401610dfc565b610f8a81612460565b60606000806129038461303f565b905061ea608660a0013511612974576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f42616d626f3133393a2067617320746f6f206c6f7720666f7220706f73744f706044820152606401610dfc565b6129816040870187613d4f565b159050612a3557612991866133a0565b806129a26105d560208901896138e0565b1015612a30576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602160248201527f42616d626f3133393a206e6f2062616c616e636520287072652d63726561746560448201527f29000000000000000000000000000000000000000000000000000000000000006064820152608401610dfc565b612aae565b80612a466105d560208901896138e0565b1015612aae576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f42616d626f3133393a206e6f2062616c616e63650000000000000000000000006044820152606401610dfc565b612abb60208701876138e0565b6040805173ffffffffffffffffffffffffffffffffffffffff909216602083015201604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529190529660009650945050505050565b600d5460ff1615612bab576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602560248201527f42616d626f3133393a20746f6b656e207472616e73666572207768696c65207060448201527f61757365640000000000000000000000000000000000000000000000000000006064820152608401610dfc565b73ffffffffffffffffffffffffffffffffffffffff831660009081526010602052604090205460ff1615612c3b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f42616d626f3133393a2073656e64657220697320626c6f636b656400000000006044820152606401610dfc565b505050565b73ffffffffffffffffffffffffffffffffffffffff8381166000908152600a6020526040808220548584168352912054612c3b92918216911683612dee565b600081600003612c9157506000919050565b60006001612c9e84613449565b901c6001901b90506001818481612cb757612cb7613dbb565b048201901c90506001818481612ccf57612ccf613dbb565b048201901c90506001818481612ce757612ce7613dbb565b048201901c90506001818481612cff57612cff613dbb565b048201901c90506001818481612d1757612d17613dbb565b048201901c90506001818481612d2f57612d2f613dbb565b048201901c90506001818481612d4757612d47613dbb565b048201901c9050610e3481828581612d6157612d61613dbb565b046134dd565b6000612d766002848418613dea565b610e3490848416613ce1565b600d5460ff16610ecc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f5061757361626c653a206e6f74207061757365640000000000000000000000006044820152606401610dfc565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614158015612e2a5750600081115b15612c3b5773ffffffffffffffffffffffffffffffffffffffff831615612edf5773ffffffffffffffffffffffffffffffffffffffff83166000908152600b602052604081208190612e7f90611aa9856134f3565b915091508473ffffffffffffffffffffffffffffffffffffffff167fdec2bacdd2f05b59de34da9b523dff8be42e5e38e818c82fdb0bae774387a7248383604051612ed4929190918252602082015260400190565b60405180910390a250505b73ffffffffffffffffffffffffffffffffffffffff821615612c3b5773ffffffffffffffffffffffffffffffffffffffff82166000908152600b602052604081208190612f2f90611a9d856134f3565b915091508373ffffffffffffffffffffffffffffffffffffffff167fdec2bacdd2f05b59de34da9b523dff8be42e5e38e818c82fdb0bae774387a7248383604051612f84929190918252602082015260400190565b60405180910390a25050505050565b600d5460ff1615610ecc576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f5061757361626c653a20706175736564000000000000000000000000000000006044820152606401610dfc565b6060600061300d836136f8565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b600f5460009073ffffffffffffffffffffffffffffffffffffffff16156130f357600f546040517fd1eca9cf0000000000000000000000000000000000000000000000000000000081526004810184905273ffffffffffffffffffffffffffffffffffffffff9091169063d1eca9cf90602401602060405180830381865afa1580156130cf573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b5c9190613d23565b610b5c826064613e25565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a083111561313557506000905060036131e4565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa158015613189573d6000803e3d6000fd5b50506040517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0015191505073ffffffffffffffffffffffffffffffffffffffff81166131dd576000600192509250506131e4565b9150600090505b94509492505050565b600081600481111561320157613201613e3c565b036132095750565b600181600481111561321d5761321d613e3c565b03613284576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f45434453413a20696e76616c6964207369676e617475726500000000000000006044820152606401610dfc565b600281600481111561329857613298613e3c565b036132ff576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e677468006044820152606401610dfc565b600381600481111561331357613313613e3c565b03610f8a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c60448201527f75650000000000000000000000000000000000000000000000000000000000006064820152608401610dfc565b60006133af6040830183613d4f565b6133be91601491600091613e6b565b6133c791613e95565b60601c6000818152600e602052604090205490915060ff16613445576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f42616d626f3133393a2077726f6e67206163636f756e7420666163746f7279006044820152606401610dfc565b5050565b600080608083901c1561345e57608092831c92015b604083901c1561347057604092831c92015b602083901c1561348257602092831c92015b601083901c1561349457601092831c92015b600883901c156134a657600892831c92015b600483901c156134b857600492831c92015b600283901c156134ca57600292831c92015b600183901c15610b5c5760010192915050565b60008183106134ec5781610e34565b5090919050565b825460009081908181156135735760008781526020902082017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0160408051808201909152905463ffffffff8116825264010000000090047bffffffffffffffffffffffffffffffffffffffffffffffffffffffff166020820152613588565b60408051808201909152600080825260208201525b905080602001517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1693506135bd84868863ffffffff16565b92506000821180156135e757506135d26111d8565b65ffffffffffff16816000015163ffffffff16145b1561365f576135f583613739565b60008881526020902083017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0180547bffffffffffffffffffffffffffffffffffffffffffffffffffffffff929092166401000000000263ffffffff9092169190911790556136ee565b8660405180604001604052806136836136766111d8565b65ffffffffffff166123c6565b63ffffffff16815260200161369786613739565b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff90811690915282546001810184556000938452602093849020835194909301519091166401000000000263ffffffff909316929092179101555b5050935093915050565b600060ff8216601f811115610b5c576040517fb3512b0c00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff82111561245c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602760248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203260448201527f32342062697473000000000000000000000000000000000000000000000000006064820152608401610dfc565b803563ffffffff811681146137fb57600080fd5b919050565b60006020828403121561381257600080fd5b610e34826137e7565b6000815180845260005b8181101561384157602081850181015186830182015201613825565b5060006020828601015260207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f83011685010191505092915050565b602081526000610e34602083018461381b565b73ffffffffffffffffffffffffffffffffffffffff81168114610f8a57600080fd5b600080604083850312156138c757600080fd5b82356138d281613892565b946020939093013593505050565b6000602082840312156138f257600080fd5b8135610e3481613892565b60008060006060848603121561391257600080fd5b833561391d81613892565b9250602084013561392d81613892565b929592945050506040919091013590565b7fff00000000000000000000000000000000000000000000000000000000000000881681526000602060e0602084015261397b60e084018a61381b565b838103604085015261398d818a61381b565b6060850189905273ffffffffffffffffffffffffffffffffffffffff8816608086015260a0850187905284810360c08601528551808252602080880193509091019060005b818110156139ee578351835292840192918401916001016139d2565b50909c9b505050505050505050505050565b600060208284031215613a1257600080fd5b5035919050565b60008060008060608587031215613a2f57600080fd5b843560038110613a3e57600080fd5b9350602085013567ffffffffffffffff80821115613a5b57600080fd5b818701915087601f830112613a6f57600080fd5b813581811115613a7e57600080fd5b886020828501011115613a9057600080fd5b95986020929092019750949560400135945092505050565b803560ff811681146137fb57600080fd5b60008060008060008060c08789031215613ad257600080fd5b8635613add81613892565b95506020870135945060408701359350613af960608801613aa8565b92506080870135915060a087013590509295509295509295565b600080600080600080600060e0888a031215613b2e57600080fd5b8735613b3981613892565b96506020880135613b4981613892565b95506040880135945060608801359350613b6560808901613aa8565b925060a0880135915060c0880135905092959891949750929550565b60008060408385031215613b9457600080fd5b8235613b9f81613892565b91506020830135613baf81613892565b809150509250929050565b60008060408385031215613bcd57600080fd5b8235613bd881613892565b9150613be6602084016137e7565b90509250929050565b600080600060608486031215613c0457600080fd5b833567ffffffffffffffff811115613c1b57600080fd5b84016101608187031215613c2e57600080fd5b95602085013595506040909401359392505050565b604081526000613c56604083018561381b565b90508260208301529392505050565b600181811c90821680613c7957607f821691505b60208210810361283b577f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b80820180821115610b5c57610b5c613cb2565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600060208284031215613d3557600080fd5b5051919050565b81810381811115610b5c57610b5c613cb2565b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1843603018112613d8457600080fd5b83018035915067ffffffffffffffff821115613d9f57600080fd5b602001915036819003821315613db457600080fd5b9250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b600082613e20577f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b500490565b8082028115828204841417610b5c57610b5c613cb2565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b60008085851115613e7b57600080fd5b83861115613e8857600080fd5b5050820193919092039150565b7fffffffffffffffffffffffffffffffffffffffff0000000000000000000000008135818116916014851015613ed55780818660140360031b1b83161692505b50509291505056fea26469706673582212203b441152b5fc83652b1fbbe2d8a42f3ae54d455f76e690a06f50ddb5e93dfa9564736f6c63430008170033dec2bacdd2f05b59de34da9b523dff8be42e5e38e818c82fdb0bae774387a7240000000000000000000000005ff137d4b0fdcd49dca30c7cf57e578a026d2789000000000000000000000000b99f671b24b8e1da7a67efbdb0b627bef9068c65";
    let create_call_address: Address = "0x762fcf49c5ef21510755191bbed6aa2a702f0348".parse()?;

    let bytecode_hash = keccak256(hex::decode(deployment_data).unwrap());

    let num_cpus = num_cpus::get();
    println!("Using {} CPU cores", num_cpus);

    // Shared state between threads
    let found = Arc::new(AtomicBool::new(false));
    let attempts = Arc::new(AtomicUsize::new(0));
    let start_time = Instant::now();

    (0..num_cpus).into_par_iter().for_each(|_| {
        let found = Arc::clone(&found);
        let attempts = Arc::clone(&attempts);

        while !found.load(Ordering::Relaxed) {
            let salt = rand::random();
            let computed_address = compute_create2_address(create_call_address, &salt, &bytecode_hash);
            let addr_str = computed_address.to_string().to_lowercase();

            let current_attempts = attempts.fetch_add(1, Ordering::Relaxed);

            if current_attempts % 1_000_000 == 0 {
                let elapsed = start_time.elapsed().as_secs_f64();
                let rate = current_attempts as f64 / elapsed;
                println!(
                    "Progress: {} attempts, {:.2} attempts/sec",
                    current_attempts,
                    rate
                );
            }

            if addr_str.contains("0xb139") && addr_str.ends_with("b139") {
                found.store(true, Ordering::Relaxed);
                println!("\nFound matching address!");
                println!("Salt: 0x{}", hex::encode(salt));
                println!("Computed Address: {}", computed_address);

                let total_time = start_time.elapsed();
                let total_attempts = attempts.load(Ordering::Relaxed);
                println!("Time taken: {:.2?}", total_time);
                println!("Total attempts: {}", total_attempts);
                println!("Average speed: {:.2} attempts/sec",
                         total_attempts as f64 / total_time.as_secs_f64());
                break;
            }
        }
    });

    Ok(())
}

